<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="wms.menu.model.dao.InboundOrderMapper">
    <select id="findAllInboundOrderList" resultType="wms.menu.model.dto.InboundOrderListDto">
        select
        product.product_no, product_name , inbound_quantity , manufacturer_name , phone,address
        from product join
            inbound_orderable on product.product_no = inbound_orderable.product_no
        join
            manufacturer on product.manufacturer_no = manufacturer.manufacturer_no;
    </select>

    <select id="findProductName" resultType="String">
        select
            product_name
        from
            product
        where
            product_no = #{productNo};
    </select>


    <select id="findCategoryCode" resultType="Integer">
        select category_no
        from product
        where product_no = #{productNo};
    </select>

    <select id="findManufacturer" resultType="Integer">
        select manufacturer_no
        from product
        where product_no = #{productNo};
    </select>

    <select id="findSumAmount" resultType="Integer">
        select  sum(amount)
        from inventory inven join product p on inven.product_no = p.product_no
        join warehouse_section sec on inven.section_no = sec.section_no
        join warehouse_zone zone on sec.section_no = zone.section_no
        where p.category_no = #{categoryNo}
        group by sec.section_no,cargo_space;
    </select>

    <select id="findCargoSpace" resultType="Integer">
        select  cargo_space
        from inventory inven join product p on inven.product_no = p.product_no
        join warehouse_section sec on inven.section_no = sec.section_no
        join warehouse_zone zone on sec.section_no = zone.section_no
        where p.category_no = #{categoryNo}
        group by sec.section_no,cargo_space;
    </select>

    <select id="findMaxAmount" resultType="Integer">
        select  count(distinct zone_no)*1000
        from inventory inven join product p on inven.product_no = p.product_no
        join warehouse_section sec on inven.section_no = sec.section_no
        join warehouse_zone zone on sec.section_no = zone.section_no
        where p.category_no = #{categoryNo}
        group by sec.section_no,cargo_space;
    </select>


</mapper>